<div class="container">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-9">
        <h1>Create Article</h1>
        <button onclick="submitForm(event)">submit</button>

        <form name="articleIntl">

          <div class="mb-3">
            <label for="title" class="form-label">Title:</label>
            <input type="text" value="{{article.articleIntl.0.title}}"
                   class="form-control {{setErrorClass errors "articleIntl.0.title"}}"
                   id="title" name="title">

            {{#each (getFieldErrors errors "articleIntl.0.title")}}
              <div class="invalid-feedback">{{ this }}</div>
            {{/each}}
          </div>

          <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <textarea class="form-control {{setErrorClass errors "articleIntl.0.description"}}" id="description" name="description">{{article.articleIntl.0.description}}</textarea>

            {{#each (getFieldErrors errors "articleIntl.0.description")}}
              <div class="invalid-feedback">{{ this }}</div>
            {{/each}}
          </div>

          <div class="mb-3">
            <label for="urlSlug" class="form-label">URL Slug:</label>
            <input type="text" value="{{article.urlSlug}}" class="form-control" id="urlSlug" name="urlSlug">

            {{#each (getFieldErrors errors "urlSlug")}}
              <div class="invalid-feedback">{{ this }}</div>
            {{/each}}
          </div>
        </form>

        <hr />

        <div class="mb-4">
          <h4>Article components</h4>

          <div id="componentContainer" class="mt-3"></div>

          <div class="text-center">
            <button type="button" class="btn btn-primary mt-3" onclick="createComponent()">Add Component</button>
          </div>
        </div>

      </div>

      <div class="col-md-3">
        <div class="mb-4">
          <h2>Article Details</h2>

          <div class="mb-3">
            <label for="lang" class="form-label">Language:</label>
            <select class="form-select" id="lang" name="lang">
              {{#each languages}}
                <option value="{{this.code}}">{{this.code}}</option>
              {{/each}}
            </select>
          </div>

          <form name="meta">
            <div class="mb-3">
              <label for="name" class="form-label">Name:</label>
              <input type="text" value="{{article.name}}"
                     class="form-control {{setErrorClass errors "name"}}"
                     id="name" name="name">

              {{#each (getFieldErrors errors "name")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="author" class="form-label">Author:</label>
              <input type="text" value="{{article.author}}" class="form-control {{setErrorClass errors "author"}}"
                     id="author" name="author">

              {{#each (getFieldErrors errors "author")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="coverImage" class="form-label">Cover Image URL:</label>
              <input type="text" value="{{article.coverImage}}"
                     class="form-control {{setErrorClass errors "coverImage"}}" id="coverImage" name="coverImage">

              {{#each (getFieldErrors errors "coverImage")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="timeToRead" class="form-label">Time to Read (minutes):</label>
              <input type="number" value="{{article.timeToRead}}"
                     class="form-control {{setErrorClass errors "timeToRead"}}" id="timeToRead" name="timeToRead">

              {{#each (getFieldErrors errors "timeToRead")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="enabled" class="form-label">Enabled:</label>
              <input type="checkbox" value="{{article.enabled}}"
                     class="form-check-input {{setErrorClass errors "enabled"}}" id="enabled" name="enabled">

              {{#each (getFieldErrors errors "enabled")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="publishedAt" class="form-label">Published At:</label>
              <input type="datetime-local" value="{{article.publishedAt}}"
                     class="form-control {{setErrorClass errors "publishedAt"}}" id="publishedAt" name="publishedAt">

              {{#each (getFieldErrors errors "publishedAt")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>

            <div class="mb-3">
              <label for="scheduledAt" class="form-label">Scheduled At:</label>
              <input type="datetime-local" value="{{article.scheduledAt}}"
                     class="form-control {{setErrorClass errors "scheduledAt"}}" id="scheduledAt" name="scheduledAt">

              {{#each (getFieldErrors errors "scheduledAt")}}
                <div class="invalid-feedback">{{ this }}</div>
              {{/each}}
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>

<script src="/articles/create.js"></script>
<script src="/articles/index.js"></script>